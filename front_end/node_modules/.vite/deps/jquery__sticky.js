import {
  require_jquery
} from "./chunk-FROQVK2S.js";
import {
  __toESM
} from "./chunk-AC2VUBZ6.js";

// node_modules/jquery.sticky/src/jquery.sticky.js
var import_jquery2 = __toESM(require_jquery());

// node_modules/jquery.sticky/src/_sticky.js
var import_jquery = __toESM(require_jquery());
var Sticky = class {
  constructor(target, args = {}) {
    if (!target.length) {
      return;
    }
    this.target = target;
    this.parent = target.parent();
    this.args = import_jquery.default.extend({
      offset: 0,
      breakpoint: null
    }, args);
    this.placeholder = (0, import_jquery.default)('<div class="js-sticky-placeholder"/>');
    this.isAdded = false;
    (0, import_jquery.default)(window).on("ready load scroll resize", () => {
      this.initialize();
    });
    (0, import_jquery.default)(window).on("resize", () => {
      (0, import_jquery.default)(window).scrollTop((0, import_jquery.default)(window).scrollTop() + 1);
    });
  }
  initialize() {
    if ("none" == this.target.css("display") || null !== this.args.breakpoint && this.args.breakpoint > (0, import_jquery.default)(window).width()) {
      this.parent.removeClass("js-sticky-parent");
      this.target.removeClass("js-sticky-top");
      this.target.removeClass("js-sticky-bottom");
      this.placeholder.remove();
      this.isAdded = false;
      return;
    }
    this.placeholder.width(this.target.outerWidth());
    this.placeholder.height(this.target.outerHeight() + parseInt(this.target.css("margin-bottom")));
    if (this.shouldStickyTop()) {
      this.setTargetSize(this.target.height(), this.target.width());
      this.target.addClass("js-sticky-top");
      this.target.css("top", this.args.offset);
      this.target.after(this.placeholder);
      this.isAdded = true;
    } else if (this.shouldStickyBottom()) {
      this.parent.addClass("js-sticky-parent");
      this.target.removeClass("js-sticky-top");
      this.target.css("top", "");
      this.target.addClass("js-sticky-bottom");
    } else if (this.shouldReleaseStickyBottom()) {
      this.parent.removeClass("js-sticky-parent");
      this.target.addClass("js-sticky-top");
      this.target.css("top", this.args.offset);
      this.target.removeClass("js-sticky-bottom");
    } else if (this.shouldReleaseStickyTop()) {
      this.parent.removeClass("js-sticky-parent");
      this.target.removeClass("js-sticky-top");
      this.target.css("top", "");
      this.target.removeClass("js-sticky-bottom");
      this.setTargetSize("", "");
      this.placeholder.remove();
      this.isAdded = false;
    }
  }
  shouldStickyTop() {
    return this.getScrollTop() >= this.getTargetTopY() && !this.isAdded;
  }
  shouldStickyBottom() {
    return this.getTargetBottomY() >= this.getParentBottomY() && !this.parent.hasClass("js-sticky-parent") && this.isAdded;
  }
  shouldReleaseStickyBottom() {
    return this.getScrollTop() <= this.getTargetTopY() && this.getTargetTopY() >= this.getParentTopY() && this.parent.hasClass("js-sticky-parent") && this.isAdded;
  }
  shouldReleaseStickyTop() {
    return this.getScrollTop() <= this.getParentTopY() && this.isAdded;
  }
  getScrollTop() {
    return (0, import_jquery.default)(window).scrollTop() + this.args.offset + parseInt(this.target.css("margin-top"));
  }
  getParentTopY() {
    if (this.target.prev().length) {
      return this.target.prev().offset().top + this.target.prev().outerHeight();
    }
    return this.parent.offset().top;
  }
  getParentBottomY() {
    if (this.target.next(":not(.js-sticky-placeholder)").length) {
      return this.target.next(":not(.js-sticky-placeholder)").offset().top;
    }
    return this.parent.offset().top + this.parent.outerHeight();
  }
  getTargetTopY() {
    return this.target.offset().top;
  }
  getTargetBottomY() {
    return this.getTargetTopY() + this.target.outerHeight();
  }
  setTargetSize(height, width) {
    this.target.width(width);
    this.target.height(height);
  }
};

// node_modules/jquery.sticky/src/jquery.sticky.js
(function($3) {
  $3.fn.sticky = function(args) {
    return this.each(function(i, e) {
      new Sticky($3(e), args);
    });
  };
})(jQuery);
//# sourceMappingURL=jquery__sticky.js.map
